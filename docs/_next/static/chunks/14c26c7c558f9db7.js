(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,45713,e=>{"use strict";var t=e.i(43476),r=e.i(71645);let o={currentLevel:0,completedLevels:[],isLetterOpened:!1,unlockedLevels:[1],userName:"Sayang",flowerChoice:null,wishes:""},l=(0,r.createContext)(void 0);function a({children:e}){let[a,s]=(0,r.useState)(o),[n,u]=(0,r.useState)(null),[i,c]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=localStorage.getItem("sarah-birthday-save");if(e)try{let t=JSON.parse(e);u(t)}catch(e){console.error("Failed to load save",e)}c(!0)},[]),(0,r.useEffect)(()=>{i&&a.isLetterOpened&&localStorage.setItem("sarah-birthday-save",JSON.stringify(a))},[a,i]),(0,t.jsx)(l.Provider,{value:{gameState:a,setGameState:s,completeLevel:e=>{s(t=>{let r=new Set(t.unlockedLevels);return r.add(e+1),{...t,unlockedLevels:Array.from(r),currentLevel:0}})},unlockLevel:e=>{s(t=>{let r=new Set(t.unlockedLevels);return r.add(e),{...t,unlockedLevels:Array.from(r)}})},resetProgress:()=>{s(o),localStorage.removeItem("sarah-birthday-save"),localStorage.removeItem("intro_popup_shown"),u(null),window.location.reload()},playSound:e=>{console.log(`Playing sound: ${e}`)},savedState:n,loadSave:()=>{n&&s(n)}},children:e})}function s(){let e=(0,r.useContext)(l);if(void 0===e)throw Error("useGame must be used within a GameProvider");return e}e.s(["GameProvider",()=>a,"useGame",()=>s])}]);